sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return e.extend("requestmanagement.controller.NotFound",{onInit:function(){var e=new t;this.getView().setModel(e,"NotFound");var o=this.getRouter();o.attachRouteMatched(this.onRouteMatched,this)},onRouteMatched:function(){var e=this,t=new URLSearchParams(window.location.search),o=t.get("token");if(o!=null){var n=new Headers;n.append("X-authorization",o);var r={method:"GET",headers:n,redirect:"follow"};fetch("/sap/opu/odata/TQA/AUTHENTICATOR_SRV/USER_AUTHENTICATION",r).then(function(e){if(!e.ok){throw new Error("Ocorreu um erro ao ler a entidade.")}return e.text()}).then(function(t){var o=new DOMParser,n=o.parseFromString(t,"text/xml"),r=n.getElementsByTagName("d:SuccessResponse")[0],a=r.textContent;if(a=="X"){e.getRouter().navTo("bomHeader")}}).catch(function(e){console.error(e)})}}})});
//# sourceMappingURL=NotFound.controller.js.map